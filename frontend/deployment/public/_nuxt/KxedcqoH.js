import{b as p,I as d,r as o}from"#entry";import{s as v}from"./BzLCLO6P.js";var h={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M917.7 148.8l-42.4-42.4c-1.6-1.6-3.6-2.3-5.7-2.3s-4.1.8-5.7 2.3l-76.1 76.1a199.27 199.27 0 00-112.1-34.3c-51.2 0-102.4 19.5-141.5 58.6L432.3 308.7a8.03 8.03 0 000 11.3L704 591.7c1.6 1.6 3.6 2.3 5.7 2.3 2 0 4.1-.8 5.7-2.3l101.9-101.9c68.9-69 77-175.7 24.3-253.5l76.1-76.1c3.1-3.2 3.1-8.3 0-11.4zM769.1 441.7l-59.4 59.4-186.8-186.8 59.4-59.4c24.9-24.9 58.1-38.7 93.4-38.7 35.3 0 68.4 13.7 93.4 38.7 24.9 24.9 38.7 58.1 38.7 93.4 0 35.3-13.8 68.4-38.7 93.4zm-190.2 105a8.03 8.03 0 00-11.3 0L501 613.3 410.7 523l66.7-66.7c3.1-3.1 3.1-8.2 0-11.3L441 408.6a8.03 8.03 0 00-11.3 0L363 475.3l-43-43a7.85 7.85 0 00-5.7-2.3c-2 0-4.1.8-5.7 2.3L206.8 534.2c-68.9 69-77 175.7-24.3 253.5l-76.1 76.1a8.03 8.03 0 000 11.3l42.4 42.4c1.6 1.6 3.6 2.3 5.7 2.3s4.1-.8 5.7-2.3l76.1-76.1c33.7 22.9 72.9 34.3 112.1 34.3 51.2 0 102.4-19.5 141.5-58.6l101.9-101.9c3.1-3.1 3.1-8.2 0-11.3l-43-43 66.7-66.7c3.1-3.1 3.1-8.2 0-11.3l-36.6-36.2zM441.7 769.1a131.32 131.32 0 01-93.4 38.7c-35.3 0-68.4-13.7-93.4-38.7a131.32 131.32 0 01-38.7-93.4c0-35.3 13.7-68.4 38.7-93.4l59.4-59.4 186.8 186.8-59.4 59.4z"}}]},name:"api",theme:"outlined"};function s(r){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},n=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(t).filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable}))),n.forEach(function(l){m(r,l,t[l])})}return r}function m(r,e,t){return e in r?Object.defineProperty(r,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[e]=t,r}var u=function(e,t){var n=s({},e,t.attrs);return p(d,s({},n,{icon:h}),null)};u.displayName="ApiOutlined";u.inheritAttrs=!1;const P=()=>{const r=o("checking"),e=o("");let t=null;const n=async c=>{try{r.value="checking",e.value="";let a=c;a?a==="/"&&(a=""):typeof window<"u"?a="":a="http://localhost:5000";const f=a?`${a}/ping`:"/ping",i=await fetch(f,{method:"GET"});i.ok?(await i.text()).trim()==="API OK"?(r.value="online",e.value=""):(r.value="offline",e.value="后端服务响应异常"):(r.value="offline",e.value=`后端服务响应异常 (${i.status})`)}catch(a){r.value="offline",a.name==="AbortError"?e.value="连接超时，后端服务可能响应缓慢":a.code==="ERR_NETWORK"?e.value="无法连接到后端服务，请检查服务是否启动":a.code==="ECONNABORTED"?e.value="连接超时，后端服务可能响应缓慢":e.value=a.message||"连接后端服务失败",console.error("后端状态检测失败:",a)}};return{backendStatus:r,backendError:e,checkBackendStatus:n,startPeriodicCheck:(c=30,a)=>{t&&clearInterval(t),n(a),t=v(()=>{n(a)},c*1e3)},stopPeriodicCheck:()=>{t&&(clearInterval(t),t=null)}}};export{u as A,P as u};
