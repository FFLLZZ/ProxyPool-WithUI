import{h as J}from"./BLMuvzoS.js";import{b as a,I as fe,g as De,s as He,r as m,j as K,v as X,x as Be,y as Re,c as b,a as i,w as l,d as n,l as y,k as w,o as d,t as _,Q as Y,C as je,n as H,z as Z,A as C,F as ee,m as Fe,P as Ve,p as ce,q as h,B as Ee,_ as qe}from"#entry";import{s as We,C as Qe,G as Ge}from"./n79dwSyB.js";import{D as Je}from"./CoiHVIeb.js";import{U as Ke}from"./BnoVSOQD.js";import{T as Xe}from"./1nlWnoXy.js";var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"};function pe(g){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?Object(arguments[v]):{},k=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(f).filter(function(x){return Object.getOwnPropertyDescriptor(f,x).enumerable}))),k.forEach(function(x){Ze(g,x,f[x])})}return g}function Ze(g,v,f){return v in g?Object.defineProperty(g,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):g[v]=f,g}var te=function(v,f){var k=pe({},v,f.attrs);return a(fe,pe({},k,{icon:Ye}),null)};te.displayName="DashboardOutlined";te.inheritAttrs=!1;var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"};function ve(g){for(var v=1;v<arguments.length;v++){var f=arguments[v]!=null?Object(arguments[v]):{},k=Object.keys(f);typeof Object.getOwnPropertySymbols=="function"&&(k=k.concat(Object.getOwnPropertySymbols(f).filter(function(x){return Object.getOwnPropertyDescriptor(f,x).enumerable}))),k.forEach(function(x){tt(g,x,f[x])})}return g}function tt(g,v,f){return v in g?Object.defineProperty(g,v,{value:f,enumerable:!0,configurable:!0,writable:!0}):g[v]=f,g}var ae=function(v,f){var k=ve({},v,f.attrs);return a(fe,ve({},k,{icon:et}),null)};ae.displayName="LinkOutlined";ae.inheritAttrs=!1;const at={class:"proxy-page fade-in"},lt={class:"stat-card enhanced-card gradient-bg-blue slide-in-up",style:{"animation-delay":"0s"}},st={class:"stat-icon"},ot={class:"stat-content"},nt={class:"stat-main"},rt={class:"stat-value"},it={class:"stat-card enhanced-card gradient-bg-green slide-in-up",style:{"animation-delay":"0.1s"}},ut={class:"stat-icon"},dt={class:"stat-content"},ct={class:"stat-main"},pt={class:"stat-value"},vt={key:0,class:"stat-badge"},ft={class:"stat-card enhanced-card gradient-bg-orange slide-in-up",style:{"animation-delay":"0.2s"}},mt={class:"stat-icon"},yt={class:"stat-content"},_t={class:"stat-main"},gt={class:"stat-value"},wt={class:"stat-card enhanced-card control-card slide-in-up",style:{"animation-delay":"0.3s"}},ht={class:"control-content"},kt={class:"control-item"},bt={class:"control-item"},xt={class:"control-item",style:{"font-size":"11px"}},Ct={class:"control-time"},Ot={class:"table-container enhanced-card scale-in"},$t={class:"table-header"},zt={class:"table-title"},It={class:"search-filters-container"},Lt={key:2,class:"ip-code"},St={key:4,class:"country-info"},Pt={class:"country-flag"},Ut={class:"country-name"},Tt={class:"address-text"},Mt={key:0,class:"auth-code"},Nt={key:1,class:"unknown-text"},At={key:0,class:"auth-code"},Dt={key:1,class:"unknown-text"},Ht={key:10,class:"time-text"},Bt={key:11,class:"time-text"},Rt={key:0},jt=De({__name:"index",setup(g){const{$http:v}=He(),f=m([]),k=m(0),x=m(0),le=m(0),B=m(!0),se=m(""),oe=m(!1),L=m(""),S=m(""),P=m(""),U=m(""),T=m(""),M=m(""),N=m(""),R=m(10),ne=m([]),j=m(!1),q=m(!1),r=m({fetcher_name:"手动添加",protocol:"",ip:"",port:null,username:"",password:"",country:"",address:""}),$=m({current:1,pageSize:10,total:0,showSizeChanger:!0,showQuickJumper:!0,pageSizeOptions:["10","20","50","100"],showTotal:t=>`共 ${t} 条`,size:"small",onChange:(t,e)=>{$.value.current=t,$.value.pageSize=e},onShowSizeChange:(t,e)=>{$.value.current=1,$.value.pageSize=e}});let O=null;const me=t=>{if(!t&&t!==0)return"-";const e=Math.floor(t/86400),o=Math.floor(t%86400/3600),u=Math.floor(t%3600/60),z=t%60;return e>0?`${e}天${o}时`:o>0?`${o}时${u}分`:u>0?`${u}分${z}秒`:`${z}秒`},ye=t=>({http:"blue",https:"green",socks4:"orange",socks5:"purple"})[t]||"default",_e=t=>t<1e3?"success":t<2e3?"processing":t<4e3?"warning":"error",ge=K(()=>{let t=f.value;if(L.value&&(t=t.filter(e=>e.protocol.toLowerCase()===L.value.toLowerCase())),S.value){const e=S.value.toLowerCase();t=t.filter(o=>o.ip.toLowerCase().includes(e))}if(P.value){const e=P.value;t=t.filter(o=>o.port.toString().includes(e))}if(U.value){const e=U.value.toLowerCase();t=t.filter(o=>o.fetcher_name.toLowerCase().includes(e))}if(T.value&&(t=t.filter(e=>e.country===T.value)),M.value){const e=M.value.trim();if(e.startsWith("<")){const o=parseInt(e.substring(1));isNaN(o)||(t=t.filter(u=>u.latency<o))}else if(e.startsWith(">")){const o=parseInt(e.substring(1));isNaN(o)||(t=t.filter(u=>u.latency>o))}else{const o=parseInt(e);isNaN(o)||(t=t.filter(u=>u.latency<=o))}}if(N.value){const e=N.value.trim();if(e.startsWith(">")){const o=parseInt(e.substring(1));isNaN(o)||(t=t.filter(u=>u.alive_time>o))}else if(e.startsWith("<")){const o=parseInt(e.substring(1));isNaN(o)||(t=t.filter(u=>u.alive_time<o))}else{const o=parseInt(e);isNaN(o)||(t=t.filter(u=>u.alive_time>=o))}}return $.value.total=t.length,t}),we=t=>({中国:"🇨🇳",美国:"🇺🇸",日本:"🇯🇵",韩国:"🇰🇷",新加坡:"🇸🇬",香港:"🇭🇰",台湾:"🇹🇼",德国:"🇩🇪",英国:"🇬🇧",法国:"🇫🇷",加拿大:"🇨🇦",澳大利亚:"🇦🇺",俄罗斯:"🇷🇺",印度:"🇮🇳",巴西:"🇧🇷",本地:"🏠",未知:"🌍"})[t]||"🌍",he=(t,e)=>e.value.toLowerCase().includes(t.toLowerCase()),ke=(t,e)=>e.value.toLowerCase().includes(t.toLowerCase()),re=async t=>{try{return await navigator.clipboard.writeText(t),!0}catch{const o=document.createElement("textarea");o.value=t,o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select();try{return document.execCommand("copy"),document.body.removeChild(o),!0}catch{return document.body.removeChild(o),!1}}},be=async t=>{let e="";t.username&&t.password?e=`${t.protocol}://${t.username}:${t.password}@${t.ip}:${t.port}`:e=`${t.protocol}://${t.ip}:${t.port}`,await re(e)?h.success("代理地址已复制到剪贴板"):h.error("复制失败，请手动复制")},xe=async t=>{let e="";const u=`${t.country||"未知"}_${t.ip}`,z=encodeURIComponent(u);if(t.username&&t.password){const G=`${t.username}:${t.password}`;e=`socks://${btoa(G)}@${t.ip}:${t.port}#${z}`}else e=`socks://${t.ip}:${t.port}#${z}`;await re(e)?h.success("V2Ray节点已复制到剪贴板"):h.error("复制失败，请手动复制")},ie=K(()=>!!(L.value||S.value||P.value||U.value||T.value||M.value||N.value)),Ce=K(()=>{let t=0;return L.value&&t++,S.value&&t++,P.value&&t++,U.value&&t++,T.value&&t++,M.value&&t++,N.value&&t++,t}),Oe=()=>{L.value="",S.value="",P.value="",U.value="",T.value="",M.value="",N.value="",$.value.current=1},$e=()=>{j.value=!0},ue=()=>{j.value=!1,r.value={fetcher_name:"手动添加",protocol:"",ip:"",port:null,username:"",password:"",country:"",address:""}},ze=async()=>{try{const o=`${Ee().public.apiBase}/clash`;if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(o),h.success("Clash 订阅链接已复制到剪贴板！");else{const u=document.createElement("textarea");u.value=o,u.style.position="fixed",u.style.left="-999999px",document.body.appendChild(u),u.select();try{document.execCommand("copy"),h.success("Clash 订阅链接已复制到剪贴板！")}catch(z){h.error("复制失败，请手动复制："+o),console.error("复制失败:",z)}document.body.removeChild(u)}}catch(t){console.error("复制 Clash 订阅链接失败:",t),h.error("复制失败，请稍后重试")}},Ie=async()=>{if(!r.value.fetcher_name){h.error("请输入来源");return}if(!r.value.protocol){h.error("请选择协议");return}if(!r.value.ip){h.error("请输入IP地址");return}if(!r.value.port){h.error("请输入端口");return}if(!/^(\d{1,3}\.){3}\d{1,3}$/.test(r.value.ip)){h.error("IP地址格式不正确");return}q.value=!0;try{const e={fetcher_name:r.value.fetcher_name,protocol:r.value.protocol,ip:r.value.ip,port:r.value.port};r.value.username&&(e.username=r.value.username),r.value.password&&(e.password=r.value.password),r.value.country&&(e.country=r.value.country),r.value.address&&(e.address=r.value.address),await v.post("/add_proxy",e),h.success("代理添加成功"),j.value=!1,ue(),await W()}catch(e){console.error("添加代理失败:",e),h.error(e.message||"添加代理失败")}finally{q.value=!1}},Le=[{title:"来源",dataIndex:"fetcher_name",key:"fetcher_name",width:140},{title:"协议",dataIndex:"protocol",key:"protocol",width:80},{title:"IP地址",dataIndex:"ip",key:"ip",width:130},{title:"端口",dataIndex:"port",key:"port",width:70},{title:"国家",dataIndex:"country",key:"country",width:110},{title:"地址",dataIndex:"address",key:"address",width:180},{title:"账号",dataIndex:"username",key:"username",width:90},{title:"密码",dataIndex:"password",key:"password",width:90},{title:"延迟",dataIndex:"latency",key:"latency",width:90,sorter:(t,e)=>t.latency-e.latency},{title:"存活",dataIndex:"alive_time",key:"alive_time",width:100,sorter:(t,e)=>t.alive_time-e.alive_time},{title:"上次验证",dataIndex:"validate_date",key:"validate_date",width:120},{dataIndex:"to_validate_date",key:"to_validate_date",width:120},{title:"操作",key:"action",width:160,fixed:"right"}],W=async()=>{oe.value=!0;try{const t=await v.get("/proxies_status");f.value=t.proxies,k.value=t.sum_proxies_cnt,x.value=t.validated_proxies_cnt,le.value=t.pending_proxies_cnt,se.value=J().format("HH:mm:ss");const e=new Set;t.proxies.forEach(o=>{o.fetcher_name&&e.add(o.fetcher_name)}),ne.value=Array.from(e).sort()}catch(t){console.error("更新数据失败:",t)}finally{oe.value=!1}};X([L,S,P,U,T,M,N],()=>{$.value.current=1});const Se=t=>{console.log("分页变化:",t)},V=()=>{if(O&&(clearInterval(O),O=null),B.value){const t=R.value*1e3;console.log("启动自动刷新定时器，间隔:",R.value,"秒"),O=We(()=>{console.log("自动刷新触发"),W()},t)}},Pe=t=>{t&&(console.log("刷新间隔改变为:",t,"秒"),V())};return X(B,t=>{console.log("自动刷新开关:",t),t?V():O&&(clearInterval(O),O=null)}),X(R,t=>{console.log("检测到间隔变化:",t,"秒"),B.value&&V()}),Be(()=>{V(),W()}),Re(()=>{O&&(clearInterval(O),O=null)}),(t,e)=>{const o=w("a-tooltip"),u=w("a-col"),z=w("a-switch"),Q=w("a-input-number"),G=w("a-row"),c=w("a-select-option"),E=w("a-select"),I=w("a-input"),F=w("a-button"),D=w("a-tag"),de=w("a-space"),A=w("a-form-item"),Ue=w("a-input-password"),Te=w("a-form"),Me=w("a-modal"),Ne=w("a-table");return d(),b("div",at,[a(G,{gutter:[16,16],class:"stats-row"},{default:l(()=>[a(u,{xs:24,sm:12,md:6},{default:l(()=>[i("div",lt,[i("div",st,[a(y(Je))]),i("div",ot,[i("div",nt,[e[19]||(e[19]=i("div",{class:"stat-label"},"全部代理数量",-1)),i("div",rt,_(k.value.toLocaleString()),1)]),a(o,{title:"目前数据库中的代理总数，包含没有通过验证的代理"},{default:l(()=>[a(y(Y),{class:"stat-help"})]),_:1})])])]),_:1}),a(u,{xs:24,sm:12,md:6},{default:l(()=>[i("div",it,[i("div",ut,[a(y(je))]),i("div",dt,[i("div",ct,[e[20]||(e[20]=i("div",{class:"stat-label"},"当前可用代理",-1)),i("div",pt,_(x.value.toLocaleString()),1)]),x.value>0?(d(),b("div",vt,[...e[21]||(e[21]=[i("span",{class:"status-indicator online"},null,-1),n(" 在线 ",-1)])])):H("",!0)])])]),_:1}),a(u,{xs:24,sm:12,md:6},{default:l(()=>[i("div",ft,[i("div",mt,[a(y(Z))]),i("div",yt,[i("div",_t,[e[22]||(e[22]=i("div",{class:"stat-label"},"等待验证",-1)),i("div",gt,_(le.value.toLocaleString()),1)]),a(o,null,{title:l(()=>[...e[23]||(e[23]=[n(" 表示这些代理的下次验证时间已经到了，但还没有完成验证 ",-1)])]),default:l(()=>[a(y(Y),{class:"stat-help"})]),_:1})])])]),_:1}),a(u,{xs:24,sm:12,md:6},{default:l(()=>[i("div",wt,[i("div",ht,[i("div",kt,[e[24]||(e[24]=i("span",{class:"control-label"},"自动刷新",-1)),a(z,{checked:B.value,"onUpdate:checked":e[0]||(e[0]=s=>B.value=s),size:"small"},null,8,["checked"])]),i("div",bt,[e[25]||(e[25]=i("span",{class:"control-label"},"间隔(秒)",-1)),a(Q,{value:R.value,"onUpdate:value":e[1]||(e[1]=s=>R.value=s),min:5,max:300,step:5,size:"small",style:{width:"80px"},onChange:Pe},null,8,["value"])]),i("div",xt,[a(y(Z),{style:{"margin-right":"4px"}}),i("span",Ct,_(se.value),1)])])])]),_:1})]),_:1}),i("div",Ot,[i("div",$t,[i("h2",zt,[a(y(Ke)),e[26]||(e[26]=n(" 可用代理列表 ",-1))])]),i("div",It,[a(de,{size:10,wrap:"",class:"filter-space"},{default:l(()=>[a(E,{value:T.value,"onUpdate:value":e[2]||(e[2]=s=>T.value=s),placeholder:"🌍 国家/地区",style:{width:"140px"},size:"small","allow-clear":"","show-search":"","filter-option":ke,class:"filter-select"},{default:l(()=>[a(c,{value:""},{default:l(()=>[...e[27]||(e[27]=[n("全部国家",-1)])]),_:1}),a(c,{value:"中国"},{default:l(()=>[...e[28]||(e[28]=[n("🇨🇳 中国",-1)])]),_:1}),a(c,{value:"美国"},{default:l(()=>[...e[29]||(e[29]=[n("🇺🇸 美国",-1)])]),_:1}),a(c,{value:"日本"},{default:l(()=>[...e[30]||(e[30]=[n("🇯🇵 日本",-1)])]),_:1}),a(c,{value:"韩国"},{default:l(()=>[...e[31]||(e[31]=[n("🇰🇷 韩国",-1)])]),_:1}),a(c,{value:"新加坡"},{default:l(()=>[...e[32]||(e[32]=[n("🇸🇬 新加坡",-1)])]),_:1}),a(c,{value:"香港"},{default:l(()=>[...e[33]||(e[33]=[n("🇭🇰 香港",-1)])]),_:1}),a(c,{value:"台湾"},{default:l(()=>[...e[34]||(e[34]=[n("🇹🇼 台湾",-1)])]),_:1}),a(c,{value:"德国"},{default:l(()=>[...e[35]||(e[35]=[n("🇩🇪 德国",-1)])]),_:1}),a(c,{value:"英国"},{default:l(()=>[...e[36]||(e[36]=[n("🇬🇧 英国",-1)])]),_:1}),a(c,{value:"法国"},{default:l(()=>[...e[37]||(e[37]=[n("🇫🇷 法国",-1)])]),_:1}),a(c,{value:"加拿大"},{default:l(()=>[...e[38]||(e[38]=[n("🇨🇦 加拿大",-1)])]),_:1}),a(c,{value:"本地"},{default:l(()=>[...e[39]||(e[39]=[n("🏠 本地",-1)])]),_:1}),a(c,{value:"未知"},{default:l(()=>[...e[40]||(e[40]=[n("🌐 未知",-1)])]),_:1})]),_:1},8,["value"]),a(E,{value:U.value,"onUpdate:value":e[3]||(e[3]=s=>U.value=s),placeholder:"📡 来源",style:{width:"150px"},size:"small","allow-clear":"","show-search":"","filter-option":he,class:"filter-select"},{default:l(()=>[a(c,{value:""},{default:l(()=>[...e[41]||(e[41]=[n("全部来源",-1)])]),_:1}),(d(!0),b(ee,null,Fe(ne.value,s=>(d(),C(c,{key:s,value:s},{default:l(()=>[n(_(s),1)]),_:2},1032,["value"]))),128))]),_:1},8,["value"]),a(E,{value:L.value,"onUpdate:value":e[4]||(e[4]=s=>L.value=s),placeholder:"🔌 协议类型",style:{width:"120px"},size:"small","allow-clear":"",class:"filter-select"},{default:l(()=>[a(c,{value:""},{default:l(()=>[...e[42]||(e[42]=[n("全部协议",-1)])]),_:1}),a(c,{value:"http"},{default:l(()=>[...e[43]||(e[43]=[n("HTTP",-1)])]),_:1}),a(c,{value:"https"},{default:l(()=>[...e[44]||(e[44]=[n("HTTPS",-1)])]),_:1}),a(c,{value:"socks4"},{default:l(()=>[...e[45]||(e[45]=[n("SOCKS4",-1)])]),_:1}),a(c,{value:"socks5"},{default:l(()=>[...e[46]||(e[46]=[n("SOCKS5",-1)])]),_:1})]),_:1},8,["value"]),a(I,{value:S.value,"onUpdate:value":e[5]||(e[5]=s=>S.value=s),placeholder:"🔍 搜索 IP",style:{width:"140px"},size:"small","allow-clear":"",class:"filter-input"},null,8,["value"]),a(I,{value:P.value,"onUpdate:value":e[6]||(e[6]=s=>P.value=s),placeholder:"🔢 端口",style:{width:"100px"},size:"small","allow-clear":"",class:"filter-input"},null,8,["value"]),a(I,{value:M.value,"onUpdate:value":e[7]||(e[7]=s=>M.value=s),placeholder:"⚡ 延迟 如<1000",style:{width:"130px"},size:"small","allow-clear":"",class:"filter-input"},null,8,["value"]),a(I,{value:N.value,"onUpdate:value":e[8]||(e[8]=s=>N.value=s),placeholder:"⏱️ 存活 如>3600",style:{width:"130px"},size:"small","allow-clear":"",class:"filter-input"},null,8,["value"]),a(F,{type:"primary",size:"small",onClick:$e,class:"add-btn"},{default:l(()=>[a(y(Ve)),e[47]||(e[47]=n(" 新增代理 ",-1))]),_:1}),a(F,{type:"default",size:"small",onClick:ze,class:"clash-btn"},{default:l(()=>[a(y(ce)),e[48]||(e[48]=n(" 复制 Clash 订阅 ",-1))]),_:1}),ie.value?(d(),C(F,{key:0,type:"primary",size:"small",danger:"",onClick:Oe,class:"clear-btn"},{default:l(()=>[a(y(Qe)),e[49]||(e[49]=n(" 清空 ",-1))]),_:1})):H("",!0),ie.value?(d(),C(D,{key:1,color:"blue",class:"active-tag"},{default:l(()=>[n(_(Ce.value)+" 个筛选 ",1)]),_:1})):H("",!0)]),_:1})]),a(Me,{open:j.value,"onUpdate:open":e[17]||(e[17]=s=>j.value=s),title:"新增代理",width:"600px",onOk:Ie,onCancel:ue,confirmLoading:q.value},{default:l(()=>[a(Te,{model:r.value,"label-col":{span:6},"wrapper-col":{span:18},class:"add-proxy-form"},{default:l(()=>[a(A,{label:"来源",required:""},{default:l(()=>[a(I,{value:r.value.fetcher_name,"onUpdate:value":e[9]||(e[9]=s=>r.value.fetcher_name=s),placeholder:"请输入来源，如: 手动添加","allow-clear":""},null,8,["value"])]),_:1}),a(A,{label:"协议",required:""},{default:l(()=>[a(E,{value:r.value.protocol,"onUpdate:value":e[10]||(e[10]=s=>r.value.protocol=s),placeholder:"请选择协议","allow-clear":""},{default:l(()=>[a(c,{value:"http"},{default:l(()=>[...e[50]||(e[50]=[n("HTTP",-1)])]),_:1}),a(c,{value:"https"},{default:l(()=>[...e[51]||(e[51]=[n("HTTPS",-1)])]),_:1}),a(c,{value:"socks4"},{default:l(()=>[...e[52]||(e[52]=[n("SOCKS4",-1)])]),_:1}),a(c,{value:"socks5"},{default:l(()=>[...e[53]||(e[53]=[n("SOCKS5",-1)])]),_:1})]),_:1},8,["value"])]),_:1}),a(A,{label:"IP地址",required:""},{default:l(()=>[a(I,{value:r.value.ip,"onUpdate:value":e[11]||(e[11]=s=>r.value.ip=s),placeholder:"请输入IP地址，如: 127.0.0.1","allow-clear":""},null,8,["value"])]),_:1}),a(A,{label:"端口",required:""},{default:l(()=>[a(Q,{value:r.value.port,"onUpdate:value":e[12]||(e[12]=s=>r.value.port=s),placeholder:"请输入端口",min:1,max:65535,style:{width:"100%"}},null,8,["value"])]),_:1}),a(A,{label:"账号"},{default:l(()=>[a(I,{value:r.value.username,"onUpdate:value":e[13]||(e[13]=s=>r.value.username=s),placeholder:"如需认证请输入账号","allow-clear":""},null,8,["value"])]),_:1}),a(A,{label:"密码"},{default:l(()=>[a(Ue,{value:r.value.password,"onUpdate:value":e[14]||(e[14]=s=>r.value.password=s),placeholder:"如需认证请输入密码","allow-clear":""},null,8,["value"])]),_:1}),a(A,{label:"国家"},{default:l(()=>[a(I,{value:r.value.country,"onUpdate:value":e[15]||(e[15]=s=>r.value.country=s),placeholder:"请输入国家，如: 中国","allow-clear":""},null,8,["value"])]),_:1}),a(A,{label:"地址"},{default:l(()=>[a(I,{value:r.value.address,"onUpdate:value":e[16]||(e[16]=s=>r.value.address=s),placeholder:"请输入详细地址，如: 北京","allow-clear":""},null,8,["value"])]),_:1})]),_:1},8,["model"])]),_:1},8,["open","confirmLoading"]),a(Ne,{columns:Le,"data-source":ge.value,"row-key":s=>`${s.protocol}://${s.ip}:${s.port}`,bordered:!1,loading:!1,pagination:$.value,"onUpdate:pagination":e[18]||(e[18]=s=>$.value=s),onChange:Se,scroll:{x:1200},class:"modern-table",size:"small"},{bodyCell:l(({column:s,record:p})=>[s.key==="fetcher_name"?(d(),C(D,{key:0,color:"purple"},{default:l(()=>[a(y(Ge),{style:{"margin-right":"4px"}}),n(" "+_(p.fetcher_name),1)]),_:2},1024)):s.key==="protocol"?(d(),C(D,{key:1,color:ye(p.protocol)},{default:l(()=>[n(_(p.protocol.toUpperCase()),1)]),_:2},1032,["color"])):s.key==="ip"?(d(),b("code",Lt,_(p.ip),1)):s.key==="port"?(d(),C(D,{key:3,color:"default"},{default:l(()=>[n(_(p.port),1)]),_:2},1024)):s.key==="country"?(d(),b("div",St,[i("span",Pt,_(we(p.country||"未知")),1),i("span",Ut,_(p.country||"未知"),1)])):s.key==="address"?(d(),C(o,{key:5,title:p.address||"无"},{default:l(()=>[i("span",Tt,_(p.address||"-"),1)]),_:2},1032,["title"])):s.key==="username"?(d(),b(ee,{key:6},[p.username?(d(),b("code",Mt,_(p.username),1)):(d(),b("span",Nt,"未知"))],64)):s.key==="password"?(d(),b(ee,{key:7},[p.password?(d(),b("code",At,_(p.password),1)):(d(),b("span",Dt,"未知"))],64)):s.key==="latency"?(d(),C(D,{key:8,color:_e(p.latency),class:"latency-tag"},{default:l(()=>[p.latency<1e3?(d(),C(y(Xe),{key:0})):(d(),C(y(te),{key:1})),n(" "+_(p.latency)+"ms ",1)]),_:2},1032,["color"])):s.key==="alive_time"?(d(),C(D,{key:9,color:"cyan",class:"alive-tag"},{default:l(()=>[a(y(Z)),n(" "+_(me(p.alive_time)),1)]),_:2},1024)):s.key==="validate_date"?(d(),b("span",Ht,_(p.validate_date?y(J)(p.validate_date).format("MM-DD HH:mm:ss"):"-"),1)):s.key==="to_validate_date"?(d(),b("span",Bt,_(p.to_validate_date?y(J)(p.to_validate_date).format("MM-DD HH:mm:ss"):"-"),1)):s.key==="action"?(d(),C(de,{key:12,size:4},{default:l(()=>[a(o,{title:"复制代理地址"},{default:l(()=>[a(F,{type:"link",size:"small",onClick:Ae=>be(p),style:{padding:"0 4px"}},{default:l(()=>[a(y(ce)),e[54]||(e[54]=n(" 代理 ",-1))]),_:1},8,["onClick"])]),_:2},1024),p.protocol==="socks4"||p.protocol==="socks5"?(d(),C(o,{key:0,title:"复制V2Ray节点"},{default:l(()=>[a(F,{type:"link",size:"small",onClick:Ae=>xe(p),style:{padding:"0 4px"}},{default:l(()=>[a(y(ae)),e[55]||(e[55]=n(" V2Ray ",-1))]),_:1},8,["onClick"])]),_:2},1024)):H("",!0)]),_:2},1024)):H("",!0)]),headerCell:l(({column:s})=>[s.key==="to_validate_date"?(d(),b("span",Rt,[e[57]||(e[57]=n(" 下次验证时间 ",-1)),a(o,null,{title:l(()=>[...e[56]||(e[56]=[n(" 验证器会不断从数据库中取出满足下次验证时间在当前时间之前的代理进行验证 ",-1)])]),default:l(()=>[a(y(Y),{style:{"margin-left":"4px",opacity:"0.6"}})]),_:1})])):H("",!0)]),_:1},8,["data-source","row-key","pagination"])])])}}}),Gt=qe(jt,[["__scopeId","data-v-8b50a14e"]]);export{Gt as default};
